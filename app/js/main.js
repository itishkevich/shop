;(function($) {	'use strict';	var app = (function(){		var init = function () {			setUpListeners();			initModules();		};		var initModules = function (){			customSelect.init();			forms.init();			$(window).on('load', function(){				slider.init();				$(".custom-select__list").mCustomScrollbar({					theme:"my-theme"				});			});		};		var setUpListeners = function () {			$(window).on('load resize', function(){				backToTopPosition();			});			$('.to-top-btn').on('click', scrollToTop);		};		var backToTopPosition = function() {			var $toTop = $('.to-top-btn'),				maxPos = $(document).height() - $('.footer').outerHeight(),				divider = 5;			$(window).scroll(function() {				var curPos = $(window).scrollTop() + $(window).height();				(curPos > maxPos) ?					$toTop.css('bottom', curPos - maxPos + divider) :					$toTop.css('bottom', divider);				($(this).scrollTop()) ?					$toTop.fadeIn() :					$toTop.fadeOut();			});		};		var scrollToTop = function(e){			e.preventDefault ? e.preventDefault() : e.returnValue;			$('html, body').stop().animate({scrollTop: 0}, '500');		};		return {			init: init		}	})();	var slider = (function() {		var speed = 5000,			animSpeed = 1000,			$sliderList,			$sliderBtns,			$sliderItems,			sliderItemsCount,			sliderItemWidth,			leftValue,			sliderStart;		var init = function() {			$sliderList = $('.slider-list');			$sliderBtns = $('.slider__btns');			$sliderItems = $('.slider-list__item');			sliderItemsCount = $sliderItems.length + 1;			sliderItemWidth = $sliderItems.outerWidth(true);			leftValue = sliderItemWidth * (-1);			setUpListeners();		};		var setUpListeners = function() {			sliderInit();			sliderStop();			$('.slider__btn_prev').on('click touchstart', sliderPrevSlide);			$('.slider__btn_next').on('click touchstart', sliderNextSlide);		};		var sliderInit = function() {			$sliderBtns.fadeIn();			$sliderList.css({'left':leftValue, 'width': sliderItemWidth * sliderItemsCount});			sliderStart = setInterval(function(){sliderRotate()}, speed);		};		var sliderPrevSlide = function(e) {			e.preventDefault ? e.preventDefault() : e.returnValue;			var leftIndent = parseInt($sliderList.css('left')) + sliderItemWidth,				$firstSlide = $('.slider-list__item:first'),				$lastSlide = $('.slider-list__item:last');			$sliderList.not(':animated').animate({'left': leftIndent}, animSpeed, function(){				$firstSlide.before($lastSlide);				$sliderList.css({'left': leftValue});			});		};		var sliderNextSlide  = function(e) {			e.preventDefault ? e.preventDefault() : e.returnValue;			var leftIndent = parseInt($sliderList.css('left')) - sliderItemWidth,				$firstSlide = $('.slider-list__item:first'),				$lastSlide = $('.slider-list__item:last');			$sliderList.not(':animated').animate({"left": leftIndent}, animSpeed, function(){				$lastSlide.after($firstSlide);				$sliderList.css({'left': leftValue});			});		};		var sliderStop = function() {			$sliderList				.mouseenter(function(){					clearInterval(sliderStart);				})				.mouseleave(function(){					sliderStart = setInterval(function(){sliderRotate()}, speed);				});		};		var sliderRotate = function() {			$('.slider__btn_next').click();		};		return {			init: init		};	})();	var customSelect = (function() {		var init = function() {			setUpListeners();		};		var setUpListeners = function() {			$('.custom-select').on('click touchstart', showCustomSelect);			$('.custom-select__list-item').on('click touchstart', changeSelectOption);			/*$(document).on('click touchstart', hideCustomSelect);*/		};		var showCustomSelect = function(){			var $select = $(this),				$selectList = $select.find('.custom-select__list');			if ($select.hasClass('custom-select_active')) {				$select.removeClass('custom-select_active');				$selectList.not(':animated').slideUp();			} else {				$select.addClass('custom-select_active');				$selectList.not(':animated').slideDown();			}			return false;		};		var changeSelectOption = function(){			var $item = $(this),				itemVal = $item.attr('data-value'),				$itemParent = $item.parents('.custom-select').find('.custom-select__control');			$itemParent				.addClass('custom-select__control_selected')				.text(itemVal);		};		var hideCustomSelect = function(){			var $select = $('.custom-select'),				$selectList = $('.custom-select__list');			if ($select.hasClass('custom-select_active')) {				$select.removeClass('custom-select_active');				$selectList.not(':animated').slideUp();			}		};		var clean = function(){			var $selectControl = $('.custom-select__control');			$('.custom-select__list').slideUp();			$('.custom-select').removeClass('custom-select_active');			$selectControl.removeClass('custom-select__control_selected');			$.each($selectControl, function(){				var selectDefault = $(this).attr('data-default');				$(this).text(selectDefault);			});		};		return {			init: init,			clean: clean,			hide: hideCustomSelect		};	})();	var forms = (function() {		var init = function() {			setUpListeners();			iePlaceholder();		};		var setUpListeners = function() {			var $form = $('form');			$form.on('reset', formClear);			$form.on('submit', formSubmit);			$form.on('keydown', '.required', formHideError);		};		var iePlaceholder = function() {			if(!('placeholder' in document.createElement('input'))){				$('[placeholder]').on('focus', function() {					var $input = $(this);					if ($input.val() === $input.attr('placeholder')) {						$input.val('');					}				}).on('blur', function() {					var $input = $(this);					if ($input.val() === '' || $input.val() === $input.attr('placeholder')) {						$input.val($input.attr('placeholder'))					}				}).blur().parents('form').submit(function() {					$(this).find('[placeholder]').each(function() {						var $input = $(this);						if ($input.val() === $input.attr('placeholder')) {							$input.val('');						}					})				});				setTimeout(function(){$('[placeholder]').trigger("blur");}, 100);			}		};		var formSubmit = function(e){			console.log('form submit');			e.preventDefault ? e.preventDefault() : e.returnValue;			customSelect.hide();			var $form = $(this),				$sbtBtn = $form.find('input[type="submit"]'),				$rstBtn = $form.find('input[type="reset"]');			if (formValidation($form) === true) {				formClear();				$sbtBtn.add($rstBtn).attr('disabled', 'disabled');			}		};		var formValidation = function ($form){			console.log('form validation');			var $controlList = $form.find('.required'),				valid = true;			$.each($controlList, function(){				var $control = $(this),					controlVal = $control.val(),					placeholder = $control.attr('placeholder');				if (controlVal.length === 0 || controlVal === placeholder) {					$control.addClass('error');					$control.tooltip({content: 'Заполните поле', position: 'right', data: $control.attr('name')});					valid = false;				}			});			return valid;		};		var formHideError = function(){			$(this).removeClass('error');			$('.tooltip[data-name = "'+$(this).attr('name')+'"]').remove();		};		var formClear = function(){			var $form = $('form');			$form.find('input[type="text"], textarea').val('').removeClass('error');			$form.find('.btn-container input').removeAttr('disabled');			$('.tooltip').remove();			customSelect.clean();			iePlaceholder();		};		return {			init: init		};	})();	app.init();})(jQuery);